---
// Discord Comments çµ„ä»¶ v1.2
// å¼•å°å¼ç•™è¨€è¨­è¨ˆ - è®“è®€è€…åŠ å…¥ Discord é€²è¡Œè¨è«–

interface Props {
  articleSlug?: string;
  articleTitle?: string;
}

// ç©å ± Discord è¨­å®š
const inviteCode = 'ZGBsvBxKzS';

const { articleSlug, articleTitle } = Astro.props;
---

<div class="comments-section">
  <div class="comments-card">
    <div class="comments-icon">
      <svg width="32" height="32" viewBox="0 0 24 24" fill="currentColor">
        <path d="M20 2H4c-1.1 0-2 .9-2 2v18l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm0 14H5.2L4 17.2V4h16v12z"/>
        <circle cx="8" cy="10" r="1.5"/>
        <circle cx="12" cy="10" r="1.5"/>
        <circle cx="16" cy="10" r="1.5"/>
      </svg>
    </div>
    <div class="comments-content">
      <h3>ğŸ’¬ æƒ³è¨è«–é€™ç¯‡æ–‡ç« å—ï¼Ÿ</h3>
      <p>æ­¡è¿åŠ å…¥ç©å ± Discord ç¤¾ç¾¤ï¼Œå’Œå…¶ä»–è®€è€…ä¸€èµ·äº¤æµéŠæˆ²å¿ƒå¾—ã€åˆ†äº«æ”»ç•¥æŠ€å·§ï¼</p>
    </div>
    <a href={`https://discord.gg/${inviteCode}`} target="_blank" rel="noopener" class="comments-btn">
      <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
        <path d="M20.317 4.37a19.791 19.791 0 0 0-4.885-1.515a.074.074 0 0 0-.079.037c-.21.375-.444.864-.608 1.25a18.27 18.27 0 0 0-5.487 0a12.64 12.64 0 0 0-.617-1.25a.077.077 0 0 0-.079-.037A19.736 19.736 0 0 0 3.677 4.37a.07.07 0 0 0-.032.027C.533 9.046-.32 13.58.099 18.057a.082.082 0 0 0 .031.057a19.9 19.9 0 0 0 5.993 3.03a.078.078 0 0 0 .084-.028a14.09 14.09 0 0 0 1.226-1.994a.076.076 0 0 0-.041-.106a13.107 13.107 0 0 1-1.872-.892a.077.077 0 0 1-.008-.128a10.2 10.2 0 0 0 .372-.292a.074.074 0 0 1 .077-.01c3.928 1.793 8.18 1.793 12.062 0a.074.074 0 0 1 .078.01c.12.098.246.198.373.292a.077.077 0 0 1-.006.127a12.299 12.299 0 0 1-1.873.892a.077.077 0 0 0-.041.107c.36.698.772 1.362 1.225 1.993a.076.076 0 0 0 .084.028a19.839 19.839 0 0 0 6.002-3.03a.077.077 0 0 0 .032-.054c.5-5.177-.838-9.674-3.549-13.66a.061.061 0 0 0-.031-.03zM8.02 15.33c-1.183 0-2.157-1.085-2.157-2.419c0-1.333.956-2.419 2.157-2.419c1.21 0 2.176 1.096 2.157 2.42c0 1.333-.956 2.418-2.157 2.418zm7.975 0c-1.183 0-2.157-1.085-2.157-2.419c0-1.333.955-2.419 2.157-2.419c1.21 0 2.176 1.096 2.157 2.42c0 1.333-.946 2.418-2.157 2.418z"/>
      </svg>
      åŠ å…¥ Discord è¨è«–
    </a>
  </div>
  
  <div class="community-stats">
    <div class="stat-item">
      <span class="stat-icon">ğŸ‘¥</span>
      <span class="stat-text">åŠ å…¥ç¤¾ç¾¤</span>
    </div>
    <div class="stat-divider"></div>
    <div class="stat-item">
      <span class="stat-icon">ğŸ®</span>
      <span class="stat-text">éŠæˆ²è¨è«–</span>
    </div>
    <div class="stat-divider"></div>
    <div class="stat-item">
      <span class="stat-icon">ğŸ“£</span>
      <span class="stat-text">æœ€æ–°æƒ…å ±</span>
    </div>
  </div>
</div>

<style>
  .comments-section {
    margin-top: var(--spacing-xl);
    padding-top: var(--spacing-lg);
    border-top: 2px solid var(--color-border);
  }
  
  .comments-card {
    display: flex;
    align-items: center;
    gap: var(--spacing-md);
    padding: var(--spacing-lg);
    background: linear-gradient(135deg, var(--color-secondary) 0%, #2A5FAD 100%);
    border-radius: var(--radius-lg);
    color: white;
    position: relative;
    overflow: hidden;
  }
  
  .comments-card::before {
    content: '';
    position: absolute;
    top: -50%;
    right: -20%;
    width: 300px;
    height: 300px;
    background: radial-gradient(circle, rgba(247,179,43,0.15) 0%, transparent 70%);
    pointer-events: none;
  }
  
  .comments-icon {
    flex-shrink: 0;
    width: 56px;
    height: 56px;
    background: rgba(255,255,255,0.15);
    border-radius: var(--radius-md);
    display: flex;
    align-items: center;
    justify-content: center;
    color: var(--color-primary);
  }
  
  .comments-content {
    flex: 1;
    min-width: 0;
    position: relative;
    z-index: 1;
  }
  
  .comments-content h3 {
    font-size: 1.15rem;
    margin-bottom: var(--spacing-xs);
  }
  
  .comments-content p {
    font-size: 0.9rem;
    opacity: 0.9;
    line-height: 1.5;
  }
  
  .comments-btn {
    flex-shrink: 0;
    display: inline-flex;
    align-items: center;
    gap: var(--spacing-xs);
    padding: var(--spacing-sm) var(--spacing-md);
    background: var(--color-primary);
    color: var(--color-secondary);
    border-radius: var(--radius-sm);
    font-weight: 600;
    font-size: 0.9rem;
    transition: all var(--transition-fast);
    position: relative;
    z-index: 1;
  }
  
  .comments-btn:hover {
    background: white;
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(0,0,0,0.2);
  }
  
  .community-stats {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: var(--spacing-md);
    margin-top: var(--spacing-md);
    padding: var(--spacing-sm) var(--spacing-md);
    background: var(--color-bg-card);
    border-radius: var(--radius-md);
    border: 1px solid var(--color-border);
  }
  
  .stat-item {
    display: flex;
    align-items: center;
    gap: var(--spacing-xs);
    color: var(--color-text-light);
    font-size: 0.85rem;
  }
  
  .stat-icon {
    font-size: 1rem;
  }
  
  .stat-divider {
    width: 1px;
    height: 20px;
    background: var(--color-border);
  }
  
  @media (max-width: 768px) {
    .comments-card {
      flex-direction: column;
      text-align: center;
    }
    
    .comments-content p {
      margin-bottom: var(--spacing-sm);
    }
    
    .community-stats {
      flex-wrap: wrap;
      gap: var(--spacing-sm);
    }
    
    .stat-divider {
      display: none;
    }
  }
</style>
